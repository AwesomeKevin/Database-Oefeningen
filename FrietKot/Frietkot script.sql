SET SERVEROUTPUT ON

DROP TABLE FRIETTENT CASCADE CONSTRAINTS;
DROP TABLE ARTIKEL CASCADE CONSTRAINTS;
DROP TABLE ARTIKELBESTELLING CASCADE CONSTRAINTS;
DROP TABLE BESTELLING CASCADE CONSTRAINTS;
DROP TABLE FRIET CASCADE CONSTRAINTS;
DROP TABLE DRANK CASCADE CONSTRAINTS;
DROP TABLE SNACK CASCADE CONSTRAINTS;

CREATE TABLE FRIETTENT
(
  FriettentID           NUMBER          PRIMARY KEY,
  Naam                  VARCHAR2(255)   NOT NULL,
  Postcode              VARCHAR2(6)     NOT NULL,
  Huisnr                VARCHAR2(6)     NOT NULL
);
CREATE TABLE ARTIKEL
(
  ArtikelID             NUMBER          PRIMARY KEY,
  FriettentID           NUMBER          NOT NULL,
  Naam                  VARCHAR2(255)   NOT NULL,
  Omschrijving          VARCHAR2(255)   NOT NULL,
  Prijs                 NUMBER          NOT NULL,
  Calorieen             NUMBER          NOT NULL,
  
  FOREIGN KEY (FriettentID) REFERENCES FRIETTENT(FriettentID)
);
CREATE TABLE BESTELLING
(
  BestellingID          NUMBER          PRIMARY KEY,
  Naam                  VARCHAR2(255)   NOT NULL,
  Postcode              VARCHAR2(6)     NOT NULL,
  Huisnummer            VARCHAR2(6)     NOT NULL,
  Datum                 DATE            NOT NULL,
  CalorieenTotaal       NUMBER          NULL,
  BetaalMethode         VARCHAR2(255)   NOT NULL
);
CREATE TABLE ARTIKELBESTELLING
(
  ArtikelID             NUMBER          NOT NULL,
  BestellingID          NUMBER          NOT NULL,
  
  FOREIGN KEY (ArtikelID) REFERENCES ARTIKEL(ArtikelID),
  FOREIGN KEY (BestellingID) REFERENCES BESTELLING(BestellingID)
);
CREATE TABLE FRIET
(
  ArtikelID             NUMBER          NOT NULL,
  Puntzak               NUMBER(1)       NOT NULL,
  
  FOREIGN KEY (ArtikelID) REFERENCES ARTIKEL(ArtikelID)
);
CREATE TABLE DRANK
(
  ArtikelID             NUMBER          NOT NULL,
  Blikje                NUMBER(1)       NOT NULL,
  
  FOREIGN KEY (ArtikelID) REFERENCES ARTIKEL(ArtikelID)
);
CREATE TABLE SNACK
(
  ArtikelID             NUMBER          NOT NULL,
  Vegetarisch           NUMBER(1)       NOT NULL,
  Varkensvlees          NUMBER(1)       NOT NULL,
  
  FOREIGN KEY (ArtikelID) REFERENCES ARTIKEL(ArtikelID)
);

COMMIT;

INSERT INTO FRIETTENT VALUES (1, 't Frietkot', '1234AB', '12');

INSERT INTO ARTIKEL VALUES (1, 1, 'Kleine Friet', 'Kleine friet in een bakje, genoeg voor 1 persoon.', 180, 300);
INSERT INTO ARTIKEL VALUES (2, 1, 'Kleine Friet met Mayo', 'Kleine friet met belgische mayonaise in een puntzak, voor 1 persoon', 220, 350);
INSERT INTO ARTIKEL VALUES (3, 1, 'Grote Friet', 'Grote friet in een bakje', 250, 500);
INSERT INTO ARTIKEL VALUES (4, 1, 'Kleine Cola', 'Klein blikje cola', 150, 100);
INSERT INTO ARTIKEL VALUES (5, 1, 'Aquarius', 'Flesje aquarius', 190, 50);
INSERT INTO ARTIKEL VALUES (6, 1, 'Kaassouffle', 'Heerlijke kaassouffle met maaslander kaas', 170, 150);
INSERT INTO ARTIKEL VALUES (7, 1, 'Frikandel', 'Hollandse frikandel in een bakje', 190, 150);
INSERT INTO ARTIKEL VALUES (8, 1, 'Frikandel speciaal', 'Hollandse frikandel special met mayo, currie en uitjes', 230, 210);

INSERT INTO BESTELLING VALUES (1, 'Koen', '5505PD', '52', SYSDATE, null, 'Contant');

INSERT INTO ARTIKELBESTELLING VALUES (2, 1);
INSERT INTO ARTIKELBESTELLING VALUES (4, 1);
INSERT INTO ARTIKELBESTELLING VALUES (6, 1);

INSERT INTO FRIET VALUES (1, 0);
INSERT INTO FRIET VALUES (2, 1);
INSERT INTO FRIET VALUES (3, 0);

INSERT INTO DRANK VALUES (4, 1);
INSERT INTO DRANK VALUES (5, 0);

INSERT INTO SNACK VALUES (6, 1, 0);
INSERT INTO SNACK VALUES (7, 0, 0);
INSERT INTO SNACK VALUES (8, 0, 0);

INSERT INTO BESTELLING VALUES (6, 'Pim', '5951CV', '105', TO_DATE('15-09-2015', 'dd-mm-yyyy'), null, 'IDeal');
INSERT INTO BESTELLING VALUES (7, 'Erik', '6401CK', '2', TO_DATE('22-09-2015', 'dd-mm-yyyy'), null, 'Contant');
INSERT INTO BESTELLING VALUES (8, 'Bas', '4444DD', '1560', TO_DATE('23-08-2015', 'dd-mm-yyyy'), null, 'Contant');
INSERT INTO BESTELLING VALUES (9, 'Inge', '1111AA', '43', TO_DATE('29-08-2015', 'dd-mm-yyyy'), null, 'IDeal');
INSERT INTO BESTELLING VALUES (10, 'Kareltje', '4141XD', '69', TO_DATE('23-09-2015', 'dd-mm-yyyy'), null, 'IDeal');

INSERT INTO BESTELLING VALUES (2, 'Henk', '5505PD', '50', SYSDATE, null, 'IDeal');
INSERT INTO BESTELLING VALUES (3, 'Piet', '5505PD', '53', SYSDATE, null, 'Contant');
INSERT INTO BESTELLING VALUES (4, 'Kees', '4567AB', '12', SYSDATE, null, 'Contant');
INSERT INTO BESTELLING VALUES (5, 'Jan', '4567AB', '34', SYSDATE, null, 'IDeal');

INSERT INTO ARTIKELBESTELLING VALUES (2, 1);
INSERT INTO ARTIKELBESTELLING VALUES (4, 1);
INSERT INTO ARTIKELBESTELLING VALUES (6, 1);
INSERT INTO ARTIKELBESTELLING VALUES (1, 2);
INSERT INTO ARTIKELBESTELLING VALUES (2, 2);
INSERT INTO ARTIKELBESTELLING VALUES (6, 2);
INSERT INTO ARTIKELBESTELLING VALUES (7, 2);
INSERT INTO ARTIKELBESTELLING VALUES (1, 3);
INSERT INTO ARTIKELBESTELLING VALUES (5, 3);
INSERT INTO ARTIKELBESTELLING VALUES (6, 3);
INSERT INTO ARTIKELBESTELLING VALUES (2, 4);
INSERT INTO ARTIKELBESTELLING VALUES (4, 5);
INSERT INTO ARTIKELBESTELLING VALUES (5, 5);
INSERT INTO ARTIKELBESTELLING VALUES (7, 5);
INSERT INTO ARTIKELBESTELLING VALUES (1, 5);
INSERT INTO ARTIKELBESTELLING VALUES (3, 5);
